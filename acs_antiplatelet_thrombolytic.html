<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ACS Drugs – Antiplatelet & Thrombolytic | Drag & Drop Match</title>
<style>
  :root{
    --bg:#0b1220; --card:#121a2b; --ink:#e8eefc; --muted:#a7b1c9;
    --ok:#2ecc71; --bad:#e74c3c; --accent:#5b8cff;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
    background:radial-gradient(1200px 800px at 10% -10%, #15243f, #0b1220 60%);
    color:var(--ink);
    min-height:100vh; display:flex; flex-direction:column; gap:20px;
  }
  header{padding:18px 20px 0}
  h1{margin:0 0 6px; font-size:clamp(20px,3.6vw,30px); font-weight:750; letter-spacing:.2px}
  p.lead{margin:0; color:var(--muted)}
  .wrap{display:grid; gap:18px; padding:10px 20px 28px}
  @media(min-width:900px){ .wrap{ grid-template-columns:1fr 1fr; } }
  .panel{
    background:linear-gradient(180deg, #121a2b 0%, #0f1728 100%);
    border:1px solid #1e2740; border-radius:16px; padding:16px; box-shadow:0 10px 30px rgba(0,0,0,.35);
  }
  .panel h2{margin:0 0 8px; font-size:18px; color:#c9d7ff; font-weight:700}
  .list, .grid{display:grid; gap:10px}
  .list{grid-auto-rows:minmax(48px,auto)}
  .pill{
    background:#0e1628; border:1px solid #223055; border-radius:12px; padding:10px 12px;
    font-weight:650; cursor:grab; user-select:none; display:flex; align-items:center; justify-content:space-between;
    transition:transform .08s ease, border-color .15s ease, background .15s ease;
  }
  .pill:active{transform:scale(.98); cursor:grabbing}
  .pill.lock{cursor:default; background:#0f1b33; border-color:#28407a}
  .desc{
    border:1.5px dashed #2a3a62; border-radius:12px; padding:12px; min-height:56px;
    display:grid; align-items:center; transition:border-color .15s ease, background .15s ease;
    background:#0e1527;
  }
  .desc .slotTitle{color:#c9d7ff; font-weight:700; font-size:14px; margin-bottom:4px}
  .desc .text{color:#dbe6ff; font-size:14px; line-height:1.25}
  .desc.correct{border-color:var(--ok); background:rgba(46,204,113,.08)}
  .desc.wrong{border-color:var(--bad); background:rgba(231,76,60,.08)}
  .desc .accept{opacity:.65; font-style:italic; font-size:12px}
  .footer{
    display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between; margin-top:6px;
  }
  .btn{
    appearance:none; border:none; border-radius:12px; padding:10px 14px; font-weight:700; cursor:pointer;
    background:linear-gradient(180deg,#6b90ff,#4f73f1); color:white; box-shadow:0 6px 18px rgba(79,115,241,.35);
  }
  .btn.secondary{background:#192548; color:#d7e3ff; box-shadow:none; border:1px solid #2a3a62}
  .score{color:#cfe0ff; font-weight:700}
  .tiny{font-size:12px; color:#9fb0d6}
  .tag{display:inline-block; padding:.2em .55em; border:1px solid #2a3a62; border-radius:999px; font-size:12px; color:#b9c9f5}
  .bucket{display:flex; gap:8px; flex-wrap:wrap; margin-top:6px}
</style>
</head>
<body>
  <header>
    <h1>ACS Drugs – Antiplatelet & Thrombolytic (Drag & Drop)</h1>
    <p class="lead">Match each <b>drug</b> (left) to its correct <b>category-included description</b> (right). Shuffles on load.</p>
  </header>

  <div class="wrap">
    <section class="panel">
      <h2>Drugs</h2>
      <div id="drugList" class="list" aria-label="Draggable drug names"></div>
      <div class="footer">
        <div class="bucket" id="legend"></div>
        <div>
          <button id="shuffle" class="btn">Shuffle</button>
          <button id="reset" class="btn secondary">Reset</button>
        </div>
      </div>
      <p class="tiny">Source: “Drugs Used in ACS/Stable Angina” (Konorev) – uploaded PDF in this chat.</p>
    </section>

    <section class="panel">
      <h2>Descriptions</h2>
      <div id="descGrid" class="grid"></div>
      <div class="footer">
        <div class="score" id="scoreArea">0 / 11 correct</div>
      </div>
    </section>
  </div>

<script>
const ITEMS = [
  // ANTIPLATELET: COX-1 / TxA2 inhibitor
  {id:"aspirin", label:"Aspirin", group:"Antiplatelet – thromboxane A₂ synthesis inhibitor",
   desc:"Antiplatelet – irreversible COX inhibition to block TxA₂ formation → ↓ platelet aggregation; started ASAP in ACS (often with a P2Y12 blocker); AEs: GI bleeding, hypersensitivity."},

  // P2Y12 (ADP) receptor blockers
  {id:"clopidogrel", label:"Clopidogrel", group:"Antiplatelet – P2Y12 (ADP) receptor blocker",
   desc:"Antiplatelet – P2Y12 receptor antagonist (↑ platelet cAMP); used with aspirin in ACS or alone if aspirin intolerant; variable response due to CYP2C19 metabolism; AE: bleeding."},
  {id:"prasugrel", label:"Prasugrel", group:"Antiplatelet – P2Y12 (ADP) receptor blocker",
   desc:"Antiplatelet – P2Y12 receptor antagonist (↑ cAMP); used as part of dual therapy in ACS; not affected by CYP2C19 status; AE: bleeding."},
  {id:"ticagrelor", label:"Ticagrelor", group:"Antiplatelet – P2Y12 (ADP) receptor blocker",
   desc:"Antiplatelet – reversible P2Y12 antagonist (↑ cAMP); started early in ACS with aspirin; not affected by CYP2C19 genotype; AE: bleeding."},

  // GP IIb/IIIa inhibitors
  {id:"abciximab", label:"Abciximab", group:"Antiplatelet – GP IIb/IIIa inhibitor",
   desc:"Antiplatelet – blocks platelet GP IIb/IIIa integrin to prevent fibrinogen-mediated aggregation; use mainly during PCI in high-risk patients; AEs: bleeding, thrombocytopenia."},
  {id:"eptifibatide", label:"Eptifibatide", group:"Antiplatelet – GP IIb/IIIa inhibitor",
   desc:"Antiplatelet – GP IIb/IIIa inhibitor; used during PCI in selected high-risk patients; AEs: bleeding (↑ with kidney disease)."},
  {id:"tirofiban", label:"Tirofiban", group:"Antiplatelet – GP IIb/IIIa inhibitor",
   desc:"Antiplatelet – GP IIb/IIIa inhibitor; clinical use has declined; used during PCI in high-risk cases; AE: bleeding."},

  // THROMBOLYTICS (FIBRINOLYTICS)
  {id:"alteplase", label:"Alteplase", group:"Thrombolytic – t‑PA (recombinant human)",
   desc:"Thrombolytic – serine protease t‑PA that converts plasminogen→plasmin to lyse fibrin; use when PCI cannot be done promptly (STEMI ± some NSTEMI) within ~12 h of symptoms; AE: bleeding."},
  {id:"reteplase", label:"Reteplase", group:"Thrombolytic – t‑PA (recombinant modified human)",
   desc:"Thrombolytic – modified recombinant t‑PA converting plasminogen→plasmin; similar ACS use when PCI not timely; AE: bleeding."},
  {id:"tenecteplase", label:"Tenecteplase", group:"Thrombolytic – t‑PA (recombinant mutated human)",
   desc:"Thrombolytic – mutated recombinant t‑PA; facilitates fibrinolysis; given when PCI unavailable within time window; AE: bleeding."},
  {id:"streptokinase", label:"Streptokinase", group:"Thrombolytic – streptokinase preparation",
   desc:"Thrombolytic – bacterial protein that activates plasminogen (systemic fibrinogenolysis); used when PCI not available; AEs: bleeding and allergic reactions."}
];

const $ = s => document.querySelector(s);
const $$ = s => Array.from(document.querySelectorAll(s));
const shuffle = a => { for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; } return a; };
let picked = null;

function build() {
  const drugList = $("#drugList");
  const descGrid = $("#descGrid");
  drugList.innerHTML = "";
  descGrid.innerHTML = "";

  const drugs = shuffle([...ITEMS]);
  const targets = shuffle([...ITEMS]);

  const groups = [...new Set(ITEMS.map(i=>i.group))];
  $("#legend").innerHTML = groups.map(g=>`<span class="tag">${g}</span>`).join("");

  drugs.forEach(d=>{
    const el = document.createElement("div");
    el.className = "pill";
    el.textContent = d.label;
    el.dataset.id = d.id;
    el.setAttribute("draggable","true");
    el.title = d.group;
    el.addEventListener("dragstart", e=> e.dataTransfer.setData("text/plain", d.id));
    el.addEventListener("click", ()=>{ if(!el.classList.contains("lock")) picked = d.id; });
    drugList.appendChild(el);
  });

  targets.forEach(t=>{
    const box = document.createElement("div");
    box.className = "desc";
    box.dataset.id = t.id;
    box.innerHTML = `<div class="slotTitle">Description</div>
                     <div class="text">${t.desc}</div>
                     <div class="accept">Drop the matching drug here</div>`;
    box.addEventListener("dragover", e=> e.preventDefault());
    box.addEventListener("drop", e=>{ e.preventDefault(); handleDrop(e.dataTransfer.getData("text/plain"), box); });
    box.addEventListener("click", ()=>{ if(picked) handleDrop(picked, box); });
    descGrid.appendChild(box);
  });

  updateScore();
}

function handleDrop(id, box){
  if(!id || box.classList.contains("correct")) return;
  const pill = $(`.pill[data-id="${id}"]`);
  if(!pill || pill.classList.contains("lock")) return;
  if(id === box.dataset.id){
    box.classList.remove("wrong");
    box.classList.add("correct");
    box.querySelector(".accept").innerHTML = `✅ Matched: <b>${pill.textContent}</b>`;
    pill.classList.add("lock");
    pill.setAttribute("draggable","false");
    pill.style.opacity = .55;
    pill.style.cursor = "default";
  } else {
    box.classList.add("wrong");
    box.querySelector(".accept").textContent = "❌ Not a match. Try again.";
    setTimeout(()=>{ box.classList.remove("wrong"); box.querySelector(".accept").textContent="Drop the matching drug here"; }, 700);
  }
  picked = null;
  updateScore();
}

function updateScore(){
  const correct = $$(".desc.correct").length;
  $("#scoreArea").textContent = `${correct} / ${ITEMS.length} correct`;
  if(correct === ITEMS.length){
    $("#scoreArea").textContent += " – All matched!";
  }
}

$("#shuffle").addEventListener("click", build);
$("#reset").addEventListener("click", ()=>{
  $$(".pill").forEach(p=>{p.classList.remove("lock"); p.style.opacity=1; p.style.cursor="grab"; p.setAttribute("draggable","true"); });
  $$(".desc").forEach(d=>{ d.classList.remove("correct","wrong"); d.querySelector(".accept").textContent="Drop the matching drug here"; });
  updateScore();
});

build();
</script>
</body>
</html>